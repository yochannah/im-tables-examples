<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <script src="https://cdn.rawgit.com/intermine/CDN/feb5bb77/js/intermine/imjs/3.15.0/im.js"></script>
  <link href="styles/main.css" rel="stylesheet" />
  <title>Summary queries</title>
  <script>
    var service = new imjs.Service({
      root: "https://yeastmine.yeastgenome.org/yeastmine"
    });
    var query = {
        "from": "Gene",
        //here we're selecting the name of the pathway and also
        //the primary id of the gene.
        "select": ["pathways.name", "primaryIdentifier"],
        "model" : {"name" : "genomic"},
        "orderBy": [{
            "path": "pathways.name",
            "direction": "ASC"
        }]
    };


    var pathways = new imjs.Query(query, service),
    pathwaysPath = [query.from, query.select[0]].join('.');

    pathways.summarize(pathwaysPath).then(function(pathwaySummary) {
      //This returns the pathway name and the number of gene rows associated with the pathway
      console.log(pathwaySummary);
    });
  </script>
</head>
<body>

  <nav>
    <a href="index.html">Back</a>
    <a href="https://github.com/yochannah/im-tables-examples/blob/master/summary.html">View source on GitHub</a>
  </nav>

  <h1>
    Demo: Selecting all genes associated with all pathways and returning the names of pathways and row count.
  </h1>
  <h2>
    Open your console to inspect the results of this query.
  </h2>


</body>

</html>
